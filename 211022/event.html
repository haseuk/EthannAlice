<!doctype html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Kinder CHOCOLATE</title>
  <link rel="stylesheet" href="css/base.css">
  <link rel="stylesheet" href="css/style.css">
  <link rel="stylesheet" href="css/style-pc.css">
  <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/earlyaccess/notosanskr.css">
  <link href="https://fonts.googleapis.com/css?family=Hi+Melody&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://unpkg.com/swiper/swiper-bundle.min.css"/>
  <script src="js/jquery.min.js"></script>
</head>
<body>
  <div class="container event" data-view="1">
    <div class="wrap">
      <img src="img/mo/logo.png" alt="" class="logo-kin mo">
      <img src="img/pc/logo.png" alt="" class="logo-kin web">
      <section class="evt1">
        <div class="tit"></div>
        <div class="postit">
          <img src="img/mo/postit.png" alt="" class="postit-img post-it-wobble active mo">
          <img src="img/pc/postit.png" alt="" class="postit-img post-it-wobble active web">
          <div class="post-txt on">나만의 행복 꿀팁<br> 여기에 적어주세요 <s>예시)아이와 함께<br>핫초코를 마시면 행복해요!</s></div>
          <textarea maxlength="300" class="txt-count"></textarea>




          <!--************추가***********-->
          <p class="txt-num"><s>0</s>/300</p>
          <!--************끝***********-->



        </div>
        <a class="share-go" data-page="2">공유하기</a>
        <div class="doodles mo">
          <img src="img/mo/doodle1.png" alt="" class="doodle1">
          <img src="img/mo/doodle2.png" alt="" class="doodle2">
          <img src="img/mo/doodle3.png" alt="" class="doodle3">
          <img src="img/mo/doodle4.png" alt="" class="doodle4">
          <img src="img/mo/doodle5.png" alt="" class="doodle5">
        </div>
      </section>

      <section class="evt2">
        <div class="tit"></div>
        <div class="agree">
          <table cellpadding="0" cellspacing="0" border="0">
            <colgroup>
              <col width="25%">
              <col width="50%">
              <col width="25%">
            </colgroup>
            <tr>
              <th><img src="img/pc/a1.png" alt=""></th>
              <th colspan="2"><input type="text" class="name"></th>
            </tr>
            <tr>
              <th><img src="img/pc/a2.png" alt=""></th>
              <th><input type="text" class="phone"></th>
              <td><a class="cert-btn"><img src="img/pc/a5.png" alt=""></a></td>
            </tr>
            <tr class="cert-input on">
              <th><img src="img/pc/a3.png" alt=""></th>
              <th><input type="text" class="cert-input"></th>
              <td><a class="cert-pass"><img src="img/pc/a6.png" alt=""></a></td>
            </tr>
            <tr class="cert-comp on">
              <th></th>
              <th colspan="2"><p>인증이 완료 되었습니다.</p></th>
            </tr>
            <tr>
              <th rowspan="3"><img src="img/pc/a4.png" alt=""></th>
              <th><input type="text" class="add-find"></th>
              <td><a class="post-code"><img src="img/pc/a7.png" alt=""></a></td>
            </tr>
            <tr>
              <th colspan="2"><input type="text" class="add1" placeholder="0000시 00구 00로 00길 00"></th>
            </tr>
            <tr>
              <th colspan="2"><input type="text" class="add2" placeholder="나머지 상세주소를 입력해주세요."></th>
            </tr>
          </table>
        </div>

        <div class="agree-box">
          <p class="tit">개인 정보 수집 및 이용 동의 / 개인 정보 처리 위탁 동의</p>
          <label>
            <input type="checkbox">
            <i></i>
            <s>전체 동의</s>
          </label>
          <div class="agree-txt">
            [개인정보 수집 및 이용 동의]<br>
            <br>
            당사는 다음과 같이 귀하의 개인정보를 수집, 이용합니다.<br>
            <br>
            수집항목: 성명, 휴대전화번호, 주소<br>
            이용목적: 이벤트 당첨자 정보 취합 및 경품 배송<br>
            보유기간: 이벤트 종료 후 60일까지는 귀하의 개인정보보허법에 따라 개인정보 수집 및 이용 동의를 거부할 수 있으며, 거부 시에는 해당 이벤트에 응모할 수 없음을 알려드립니다. 귀하가 제공한 개인정보는 당사의 개인정보보호정책에 따라 안전하게 관리되며, 본 이벤트 종료 후 귀하로부터 제공받은 개인정보는 제 3자에게 제공되거나 활용되지 아니합니다.
          </div>
        </div>
        <a class="evt3-go" data-page="3">제출하기</a>
        <img src="img/mo/doodle1.png" alt="" class="doodle1 mo">
      </section>


      <!--************수정 10.27***********-->
      <section class="evt3">
        <div class="tit"></div>
        <div class="speech">
          <div class="mo-swiper mo">
            <div class="swiper-wrapper">
              <div class="swiper-slide"><a class="speech-a" onclick="swiperPage('1')"><p class="u-txt">아이와 모닝 허그, 넘 행복해요</p></a></div>
              <div class="swiper-slide"><a class="speech-a" onclick="swiperPage('2')"><p class="u-txt">자기 전에 아이와 함께 늘 동화책을 읽는 것이 우리 가족이 행복한....</p></a></div>
              <div class="swiper-slide"><a class="speech-a" onclick="swiperPage('3')"><p class="u-txt">요즘같은 추운 날씨에는 아이와 함께하는 따뜻한 핫초코 한잔이....</p></a></div>
              <div class="swiper-slide"><a class="speech-a" onclick="swiperPage('4')"><p class="u-txt">아이와 모닝 허그, 넘 행복해요</p></a></div>
              <div class="swiper-slide"><a class="speech-a" onclick="swiperPage('5')"><p class="u-txt">아이와 모닝 허그, 넘 행복해요</p></a></div>
              <div class="swiper-slide"><a class="speech-a" onclick="swiperPage('6')"><p class="u-txt">아이와 모닝 허그, 넘 행복해요</p></a></div>
            </div>
            <div class="swiper-button swiper-button-next"></div>
            <div class="swiper-button swiper-button-prev"></div>
          </div>
          <div class="web-swiper web">
            <div class="swiper-wrapper">
              <div class="swiper-slide"><a class="speech-a" onclick="swiperPage('1')"><p class="u-txt">아이와 모닝 허그, 넘 행복해요</p></a></div>
              <div class="swiper-slide"><a class="speech-a" onclick="swiperPage('2')"><p class="u-txt">자기 전에 아이와 함께 늘 동화책을 읽는 것이 우리 가족이 행복한....</p></a></div>
              <div class="swiper-slide"><a class="speech-a" onclick="swiperPage('3')"><p class="u-txt">요즘같은 추운 날씨에는 아이와 함께하는 따뜻한 핫초코 한잔이....</p></a></div>
              <div class="swiper-slide"><a class="speech-a" onclick="swiperPage('4')"><p class="u-txt">아이와 모닝 허그, 넘 행복해요</p></a></div>
              <div class="swiper-slide"><a class="speech-a" onclick="swiperPage('5')"><p class="u-txt">자기 전에 아이와 함께 늘 동화책을 읽는 것이 우리 가족이 행복한....</p></a></div>
              <div class="swiper-slide"><a class="speech-a" onclick="swiperPage('6')"><p class="u-txt">요즘같은 추운 날씨에는 아이와 함께하는 따뜻한 핫초코 한잔이....</p></a></div>
            </div>
            <div class="swiper-button-web web swiper-button-next"></div>
            <div class="swiper-button-web web swiper-button-prev"></div>
          </div>
        </div>
        <!--************끝***********-->


        <div class="buy">
          <a href="https://brand.naver.com/maeil/category/a396baf9834f41b9bc8b9a85d0151351?cp=1" target="_blank" class="purchase">구매하기</a>
        </div>
        <img src="img/mo/doodle6.png" alt="" class="doodle1 mo">
        <img src="img/mo/doodle7.png" alt="" class="doodle2 mo">
      </section>
      <div class="bottom2"></div>

      <!--************수정 10.27***********-->
      <div class="popup">
        <div class="dim"></div>
        <div class="inner">
          <div class="popup-swiper">
            <div class="swiper-wrapper">
              <div class="swiper-slide slide1"><p>1</p></div>
              <div class="swiper-slide slide2"><p>22</p></div>
              <div class="swiper-slide slide3"><p>343</p></div>
              <div class="swiper-slide slide4"><p>4444</p></div>
              <div class="swiper-slide slide5"><p>55555</p></div>
            </div>
            <div class="swiper-button swiper-button-next"></div>
            <div class="swiper-button swiper-button-prev"></div>
          </div>
          <a class="close">닫기</a>
        </div>
      </div>
      <!--************끝***********-->


      <div class="doodles web">
        <img src="img/pc/doodle1.png" alt="" class="doodle1">
        <img src="img/pc/doodle2.png" alt="" class="doodle2">
        <img src="img/pc/doodle3.png" alt="" class="doodle3">
        <img src="img/pc/doodle4.png" alt="" class="doodle4">
        <img src="img/pc/doodle5.png" alt="" class="doodle5">
        <img src="img/pc/doodle6.png" alt="" class="doodle6">
        <img src="img/pc/doodle7.png" alt="" class="doodle7">
        <img src="img/pc/doodle8.png" alt="" class="doodle8">
        <img src="img/pc/doodle9.png" alt="" class="doodle9">
      </div>
    </div>
  </div>

  <!--************수정 10.27***********-->
  <script src="//code.jquery.com/jquery-3.3.1.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.8.0/gsap.min.js" integrity="sha512-eP6ippJojIKXKO8EPLtsUMS+/sAGHGo1UN/38swqZa1ypfcD4I0V/ac5G3VzaHfDaklFmQLEs51lhkkVaqg60Q==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
  <script src="https://unpkg.com/swiper/swiper-bundle.min.js"></script>
  <script>
    let postIt = document.querySelector('.postit');
    let postTxt = document.querySelector('.post-txt');
    $(document).ready(function() {
      $(postIt).click(function() {
        $(postTxt).fadeOut(200);
        textarea.focus();
        wobbleStop();
      });
    });

    let wobbles = document.querySelectorAll('.post-it-wobble');
    function wobbleStop() {
      Array.prototype.forEach.call(wobbles, function(e) {
        e.classList.remove('active');
      });
    }

    let textVal = '';
    let textarea = document.querySelector('textarea');
    let shareBtn = document.querySelector('.share-go');
    let evt3Go = document.querySelector('.evt3-go');
    let view = document.querySelector('.container');

    textarea.addEventListener('keyup', function() {
      textVal = textarea.value.length;
      if(textVal >= 300) {
        alert('최대 300자 까지 입력 가능합니다.');
        shareBtn.focus();
      }
    });

    shareBtn.addEventListener('click', function(e) {
      if(textVal === '') {
        alert("포스트잇을 '클릭!' 나만의 꿀팁을 작성해 주세요.")
        return;
      }
      else {
        nextPage(e);
      }
    });

    evt3Go.addEventListener('click', function(e) {
      nextPage(e)
    });

    function nextPage(e) {
      let idx = e.target.getAttribute('data-page');
      view.setAttribute('data-view', idx);
    }

    let speechs = document.querySelectorAll('.speech-a');
    let popup = document.querySelector('.popup');
    let popupX = document.querySelector('.popup .close');

    Array.prototype.forEach.call(speechs, function(e) {
      e.addEventListener('click', function() {
        popupOpen();
      });
    });

    function popupOpen() {
      popup.classList.add('on');
    }
    function popupClose() {
      popup.classList.remove('on');
    }
    popupX.addEventListener('click', popupClose);

    function swiperPage(v) {
      popSwiper.slideTo(v-1);
      counter(v);
    }

    function random(min, max) {
      return parseFloat((Math.random() * (max - min) + min).toFixed(2))
    }
    function dungdung(item, delayAfter, size) {
      gsap.to(
        item,
        random(1.5, 2.0),
        {
          delay: random(0, delayAfter),
          y: size,
          repeat: -1,
          yoyo: true,
          ease: Power1.easeInOut
        }
      );
    }

    dungdung('.doodle1', .5, 8)
    dungdung('.doodle2', 1.5, 9)
    dungdung('.doodle3', 0, 10)
    dungdung('.doodle4', 2.5, 8)
    dungdung('.doodle5', 1.5, 7)
    dungdung('.doodle6', 0, 8)
    dungdung('.doodle7', 2, 7)
    dungdung('.doodle8', 1, 9)
    dungdung('.doodle9', 0, 8)

    let moSwiper = new Swiper(".mo-swiper", {
      direction: "vertical",
      slidesPerView: 3,
      spaceBetween: 12,
      navigation: {
        nextEl: ".swiper-button-next",
        prevEl: ".swiper-button-prev",
      },
    });


    let webSwiper = new Swiper(".web-swiper", {
      slidesPerView: 3,
      spaceBetween: 18,
      navigation: {
        nextEl: ".swiper-button-next",
        prevEl: ".swiper-button-prev",
      },
    });
    var popSwiper = new Swiper(".popup-swiper", {
      slidesPerView: 1,
      spaceBetween: 12,
      navigation: {
        nextEl: ".swiper-button-next",
        prevEl: ".swiper-button-prev",
      },
    });
    popSwiper.on('transitionEnd', function() {
      let idx = popSwiper.realIndex;
      counter(idx+1);
    });


    function counter(v) {
      let txtLeng = document.querySelector('.popup .swiper-slide-active p').innerText.length;
      let txtNum = document.querySelector('.popup .slide'+v+' .txt-leng .num');
      txtNum.innerText = txtLeng;
    }

    $('.txt-count').keyup(function (e){
      var content = $(this).val();
      $('.txt-num s').html(content.length);    //글자수 실시간 카운팅

      if (content.length > 299){
        alert("최대 300자까지 입력 가능합니다.");
        $(this).val(content.substring(0, 299));
      }
    });

  </script>
  <!--************끝***********-->
</body>
</html>